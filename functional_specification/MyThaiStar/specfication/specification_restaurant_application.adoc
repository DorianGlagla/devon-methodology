= Specification of the Restaurant Application =

Devon FW Team icsddevonfwsupport.apps2@capgemini.com

:toc:
:toclevels: 4
:icons:
:numbered:
:website: https://www.de.capgemini.com/devonfw
:imagesdir: ./images/
:imagesUserManagement: /BCO_User_Management/images/
:imagesTableManagement: /BCO_Table_Management/images/
:imagesOrderManagement: /BCO_Order_Management/images/


== Introduction ==


[[XTermsDefs]]
=== Terms and definitions ===

[width="100%",options="header"]
|====================
| Term |  Definition
| .... | ....
|====================

== Use Cases ==

=== Actors and roles ===

image::overview_actors.svg[caption="Figure 1: ", title="Actors", alt="Actors"]

[width="100%",options="header", cols="v,a"]
|====================
| Role |  Description
| ACR_User |
- a user of the MyThaiStar application
| ACR_Guest |
- a guest of the MyThaiStar Restaurant
- it can bei either a "walk in" guest, a guest with a reservation or a guest having been invited by another guest.
| ACR_Reserving_Guest |
- a guest reserving a table using the MyThaiStar application
| ACR_Invitee |
- a guest that has been invited by a reserving guest.
| ACR_Waiter |
- a waiter managing the tables and orders using the MyThaiStar application
| ACR_System_MyThaiStar |
- The MyThaiStar application itself
|====================

include::BCO_User_Management/BCO_User_Management.adoc[tags=UseCases]

include::BCO_Order_Management/BCO_Order_Management.adoc[tags=UseCases]

== Dialogue ==

The description of the user interface is split into the following dialogues:

- *DIA_Main_Screen_and_User_Management* to show the specifics
- *DIA_Book_Table_and_Invite_Friends* to book a table and optionally directly send a mail to invited people.
- *DIA_Show_Menu_and_Create_Order* to show the menu and to optionally create an order.
- *DIA_Supervise_Orders* to show current orders
- *DIA_Supervise_Reservations* to show current reservations

=== Dialogue areas and mechanisms ===

==== header area ====

All screens of the dialogues are split into a header area and a content area. The header area looks like this:

image::header_area.png[caption="Figure 3: ", title="Header area in dialogue screens", alt="Header area in dialogue screens"]

It contains

- a linked logo of MyThaiStar, which leads to SCR_Main_Screen, see DIA_Main_Screen_and_User_Management.
- a _Home_ link also leading to SCR_Main_Screen, see DIA_Main_Screen_and_User_Management.
- a _Menu_ link leading to SCR_Menu_Screen_TODO, see DIA_Show_Menu_and_Create_Order.
- a _Book Table_ link leading to SCR_Book_Table, see DIA_Show_Menu_and_Create_Order.

In the right, it allows a user to log in or sign up using the User icon, and to fade in the right marginal column using the shopping basket icon.

==== right marginal column ====

The right marginal column contains the dishes and drinks of the current order.

.Right marginal column without orders

If there is no current order, it looks like this:

image::right_marginal_column.png[caption="Figure 3: ", title="Right marginal column", alt="Right marginal column"]

Besides the links _Menu_ and _Book table_ (see header area), the right marginal column allows to enter a booking id received in an email. The steps for this are as follows:

. The user enters the booking id received in the email, and klicks to accept the terms.
. The application reads the order using the booking token (see IET_Find_Order in EIF_Manage_Booking).
.. If the order could not be found, an error is displayed to the user.
.. Otherwise, the contents of the order are displayed in the right marginal column.

.Right marginal column with orders

TODO

==== Content area ====

This area contains the main information of each screen and is described in the following dialogues.

==== Banner messages ====

Messages to the user, most often about the success or failure of an operation, are shown as a banner sliding in from the bottom of the screen.

image::banner_message.png[caption="Figure 3: ", title="Banner message", alt="Banner message"]

==== Modal dialogues ====

Some screens are implemented not as a screen of their own, but as a modal dialogue rendered above the current screen. This is done for most input dialogues.

image::Modal_dialogue.png[caption="Figure 3: ", title="Modal dialogue", alt="Modal dialogue"]


=== Dialogue DIA_Main_Screen_and_User_Management ===

The dialogue flow of this dialogue is shown in the next image:

image::DIA_Main_Screen_and_User_Management.svg[caption="Figure 3: ", title="DIA_Main_Screen_and_User_Management", alt="DIA_Main_Screen_and_User_Management"]

The flows defined here for the links in the header area are relevant for each screen except the modular windows (see below).

This is a fundamental dialogue flow and not associated with one of the client use cases.


==== Screen SCR_Main_Screen ====

image::SCR_Main_Screen.png[caption="Figure 3: ", title="Main Screen", alt="Main Screen"]

TODO: The links to the supervision of orders and reservations currently do not work. This image has to updated once they work again.

As this is the main screen, all other dialogues are entered from this screen:

- DIA_Book_Table_and_Invite_Friends is reached using the link _BOOK TABLE_.
- DIA_Show_Menu_and_Create_Order is reached using the link _MENU_.
- DIA_Supervise_Orders and DIA_Supervise_Reservations are reached by their corresponding links for users with the role _WAITER_.

The main screen itself can be reached from every other screen (except modal dialogues) using the MyThaiStar Icon in the upper left corner.

==== Screen SCR_User_Login ====

image::SCR_User_Login.png[caption="Figure 3: ", title="User Login", alt="User Login"]

This screen allows a user to log in. All fields are mandatory, otherwise the LOGIN button will not be active.

The Login is done using the following steps:

. The user enters his username and password and selects Login
. The system authenticates the user using *EIF_TODO*
. The user data is stored in the client as ETY_TODO.
. The result of the login as a banner message.

==== Screen SCR_User_Signup ====

image::SCR_User_Signup.png[caption="Figure 3: ", title="User Login", alt="User Login"]

This screen allows a user to sign up to the MyThaiStar application.

The field Email contains a format validator for an email address. All fields are mandatory, otherwise the REGISTER button will not be active.

The signup is done using the following steps:

. The user enters his email-address, selects a password, accepts the general conditions and selects REGISTER.
. The system will currently show a banner explaining that the email-address is already in use.

=== Dialogue DIA_Book_Table_and_Invite_Friends ===

The dialogue flow of this dialogue is shown in the next image:

image::DIA_Book_Table_and_Invite_Friends.svg[caption="Figure 3: ", title="DIA_Book_Table_and_Invite_Friends", alt="DIA_Book_Table_and_Invite_Friends"]

TODO: Continue when corresponding use cases and interfaces are defined.


== Data model ==
This data model is primarily defined by diagrams. Textual documentation is added
for the entity types, attributes and relations, for which the diagrams are not sufficient as documentation.

include::BCO_User_Management/BCO_User_Management.adoc[tags=DataModel]

include::BCO_Order_Management/BCO_Order_Management.adoc[tags=DataModel]


== External Interfaces ==

All services provided by the server application are documented here. Since most
of the services are quite simple CRUD (Create, Read, Update, Delete) services,
they will be defined in diagrams alone. Additional documentation is supplied where
needed.

include::BCO_User_Management/BCO_User_Management.adoc[tags=ExternalInterfaces]

include::BCO_Order_Management/BCO_Order_Management.adoc[tags=ExternalInterfaces]
